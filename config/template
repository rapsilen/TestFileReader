# Explain keyword

# index:
# Should the field be searchable? Accepts true (default) and false. 

# eager_global_ordinals:
# Should global ordinals be loaded eagerly on refresh? Accepts true or false (default). Enabling this is a good idea on fields that are frequently used for terms aggregations. 

# ignore_above:
# Do not index any string longer than this value. Defaults to 2147483647 so that all values would be accepted.Please however note that default dynamic mapping rules create a sub keyword field that overrides this default by setting ignore_above: 256. 

# index_options:
# What information should be stored in the index, for scoring purposes. Defaults to docs but can also be set to freqs to take term frequency into account when computing scores. 

# norms:
# Whether field-length should be taken into account when scoring queries. Accepts true or false (default)

# those are all string type  
# context, units, structureName, componentHash, bitValues, segmentName, expression, name, description, failingArrayName, hostName, queriedTests, results, status


# number type list
# BinType, DocCnt, GrossTime, HBin, KDFDate, KDFMonth ,SBin,Site,TestTime ,TransferTime ,UnitCnt,WaferNumber,X,Y,alarm,result,value 

#  long: A signed 64-bit integer with a minimum value of -263 and a maximum value of 263-1
#  integer: A signed 32-bit integer with a minimum value of -231 and a maximum value of 231-1
#  short :A signed 16-bit integer with a minimum value of -32,768 and a maximum value of 32,767. 
#  byte: A signed 8-bit integer with a minimum value of -128 and a maximum value of 127.
#  double: A double-precision 64-bit IEEE 754 floating point number, restricted to finite values
#  float: A single-precision 32-bit IEEE 754 floating point number, restricted to finite values  
#  half_float: A half-precision 16-bit IEEE 754 floating point number, restricted to finite values. 
#  scaled_float: A finite floating point number that is backed by a long, scaled by a fixed double scaling factor. 

PUT _template/all-test-back
{
  "order": 0,
    "version": 1001,
    "index_patterns": [
      "wafer-sort-test-*",
      "slt-test-*",
      "ft-test-*"
    ],
    "settings": {
      "index": {
        "number_of_shards": "3",
        "number_of_replicas": "2",
        "refresh_interval": "30s"
      }
    },
    "mappings": {
      "doc": {
        "date_detection": false,
        "numeric_detection": true,
        "dynamic": true,
        "properties": {
          "@timestamp": {
            "type": "date"
          },
          "@version": {
            "type": "keyword"
          },
          
          
          "FileTime": {
            "type": "date"
          },
          "DoneTime": {
            "type": "date"
          },
          "EndTestTime": {
            "type": "date"
          },
          "StartTestTime": {
            "type": "date"
          },
          "LotStartTime": {
            "type": "date"
          },
          "LotEndTime": {
            "type": "date"
          },
          "TransferTime": {
            "type": "date"
          },
          
          "description": {
            "type" : "keyword"
          },
          "structureName": {
            "type": "keyword"
          },
          "context": {
            "type": "keyword"
          },
          "units": {
            "type": "keyword"
          },
          "segmentName": {
            "type": "keyword"
          },
          "expression": {
            "type": "keyword"
          },
          "name": {
            "type": "keyword"
          },
          "failingArrayName": {
            "type": "keyword"
          },
           "Device" : {
            "type": "keyword"
          },
          "DataType": {
            "type": "keyword"
          },
       
          "HBinDesc": {
            "type": "keyword"
          },
          "KDFName": {
            "type": "keyword"
          },
          "MfgStep": {
            "type": "keyword"
          },
          "Operation": {
            "type": "keyword"
          },
          "Program": {
            "type": "keyword"
          },
          "ProgramVersion": {
            "type": "keyword"
          },
          "SBinDesc": {
            "type": "keyword"
          },
          "TestCode": {
            "type": "keyword"
          },
          "Tester": {
            "type": "keyword"
          },
          "Type": {
            "type": "keyword"
          },
          "UnitId": {
            "type": "keyword"
          },
          "generatedTestName": {
            "type": "keyword"
          },
          "SBin": {
            "type": "keyword"
          },
          "HBin": {
            "type": "keyword"
          },
          "Site": {
            "type": "keyword"
          },
          
          
          
          "TestTime": {
            "type": "float"
          },
          "value": {
            "type": "float"
          },
          
          
          "BinType": {
            "type": "byte"
          },
          "WaferNumber": {
            "type": "byte"
          },
          "X": {
            "type": "byte"
          },
          "Y": {
            "type": "byte"
          },
          "alarm": {
            "type": "byte"
          },
          "result": {
            "type": "byte"
          },
          "timeout": {
            "type": "byte"
          },
          
          
          "KDFDate": {
            "type": "integer"
          },
          "KDFMonth": {
            "type": "integer"
          },
          
          "DocCnt": {
            "type": "integer"
          },
          "GrossTime": {
            "type": "integer"
          },
          "UnitCnt": {
            "type": "short"
          }
          
       
         
        },
        "dynamic_templates": [
          {
          "DoneTime": {
            "match": "DoneTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "EndTestTime": {
            "match": "EndTestTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "FileTime": {
            "match": "FileTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "LotEndTime": {
            "match": "LotEndTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "LotStartTime": {
            "match": "LotStartTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "StartTestTime": {
            "match": "StartTestTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "TransferTime": {
            "match": "TransferTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         
         
         
         
         
         {
          "WaferLot": {
            "match": "WaferLot",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "LotNumber": {
            "match": "LotNumber",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "DIE_1": {
            "match": "DIE_1",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "DIE_2": {
            "match": "DIE_2",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "DIE_3": {
            "match": "DIE_3",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "DataType": {
            "match": "DataType",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Device": {
            "match": "Device",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Dib": {
            "match": "Dib",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "FileName": {
            "match": "FileName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "HBin": {
            "match": "HBin",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "HBinDesc": {
            "match": "HBinDesc",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "KDFName": {
            "match": "KDFName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "MfgStep": {
            "match": "MfgStep",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Operation": {
            "match": "Operation",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "PartNumber": {
            "match": "PartNumber",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Pattern": {
            "match": "Pattern",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Pin": {
            "match": "Pin",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Program": {
            "match": "Program",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "ProgramVersion": {
            "match": "ProgramVersion",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "SBin": {
            "match": "SBin",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "SBinDesc": {
            "match": "SBinDesc",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Site": {
            "match": "Site",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "TestCode": {
            "match": "TestCode",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Tester": {
            "match": "Tester",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Type": {
            "match": "Type",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "UnitId": {
            "match": "UnitId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "baseClass": {
            "match": "baseClass",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "comClass": {
            "match": "comClass",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "comName": {
            "match": "comName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "context": {
            "match": "context",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "description": {
            "match": "description",
            "mapping": {
              "type": "text"
            }
          }
         },
         {
          "expression": {
            "match": "expression",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "failingArrayName": {
            "match": "failingArrayName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "generatedTestName": {
            "match": "generatedTestName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "name": {
            "match": "name",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "queriedTests": {
            "match": "queriedTests",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "segmentName": {
            "match": "segmentName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "status": {
            "match": "status",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "structureName": {
            "match": "structureName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "subClass": {
            "match": "subClass",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "units": {
            "match": "units",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "bitValues": {
            "match": "bitValues",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "componentHash": {
            "match": "componentHash",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "connectTimeout": {
            "match": "connectTimeout",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "endTimestamp": {
            "match": "endTimestamp",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "highSpecLimit": {
            "match": "highSpecLimit",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "hostName": {
            "match": "hostName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "lowSpecLimit": {
            "match": "lowSpecLimit",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "networkError": {
            "match": "networkError",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "portNumber": {
            "match": "portNumber",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "queryTimeout": {
            "match": "queryTimeout",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "queryType": {
            "match": "queryType",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "sequence": {
            "match": "sequence",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "startTimestamp": {
            "match": "startTimestamp",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         
         
         
         {
          "BinType": {
            "match": "BinType",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "DocCnt": {
            "match": "DocCnt",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "GrossTime": {
            "match": "GrossTime",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "KDFDate": {
            "match": "KDFDate",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "KDFMonth": {
            "match": "KDFMonth",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "TestTime": {
            "match": "TestTime",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "UnitCnt": {
            "match": "UnitCnt",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "UnitSeq": {
            "match": "UnitSeq",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "WaferNumber": {
            "match": "WaferNumber",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "X": {
            "match": "X",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "Y": {
            "match": "Y",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "alarm": {
            "match": "alarm",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "bistControllerId": {
            "match": "bistControllerId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "connectTime": {
            "match": "connectTime",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "cycle": {
            "match": "cycle",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "failingMacroId": {
            "match": "failingMacroId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "failingMacroSubId": {
            "match": "failingMacroSubId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "recvTime": {
            "match": "recvTime",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "repCount": {
            "match": "repCount",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "result": {
            "match": "result",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "timeout": {
            "match": "timeout",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "timestamp": {
            "match": "timestamp",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "totalQueryTime": {
            "match": "totalQueryTime",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "value": {
            "match": "value",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "vector": {
            "match": "vector",
            "mapping": {
              "type": "keyword"
            }
          }
         }
         
         
         
         
        ]
      }
    },
    "aliases": {}
  }

PUT _ingest/pipeline/ft-test
{
 "description": "to parse the filebeat message",
    "processors": [
      {
        "kv": {
          "field": "message",
          "field_split": ",",
          "value_split": "="
        }
      },
      {
        "remove": {
          "field": [
            "message",
            "source",
            "offset",
            "prospector",
            "beat"
          ]
        }
      },
      {
        "date_index_name": {
          "field": "FileTime",
          "index_name_prefix": "ft-test-",
          "date_rounding": "M"
        }
      }
    ]
  
}


  
PUT _ingest/pipeline/wafer-sort-test
{
 "description": "to parse the filebeat message",
    "processors": [
      {
        "kv": {
          "field": "message",
          "field_split": ",",
          "value_split": "="
        }
      },
      {
        "remove": {
          "field": [
            "message",
            "source",
            "offset",
            "prospector",
            "beat"
          ]
        }
      },
      {
        "date_index_name": {
          "field": "FileTime",
          "index_name_prefix": "wafer-sort-test-",
          "date_rounding": "M"
        }
      }
    ]
  
}


  
PUT _ingest/pipeline/slt-test
{
 "description": "to parse the filebeat message",
    "processors": [
      {
        "kv": {
          "field": "message",
          "field_split": ",",
          "value_split": "="
        }
      },
      {
        "remove": {
          "field": [
            "message",
            "source",
            "offset",
            "prospector",
            "beat"
          ]
        }
      },
      {
        "date_index_name": {
          "field": "FileTime",
          "index_name_prefix": "slt-test-",
          "date_rounding": "M"
        }
      }
    ]
  
}
